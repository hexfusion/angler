#! /usr/bin/env perl

use strict;
use warnings;

use Dancer ':script';
use Angler::Schema;
use Dancer::Plugin::Interchange6;

set logger        => 'console';
set logger_format => '%m';

use Locale::SubCountry;
use DateTime qw();

my $now    = DateTime->now;
my $schema = shop_schema;
my $data;
my %product;

shop_schema->deploy({add_drop_table => 1});

my $state = $schema->resultset("State")->find( { country_iso_code => 'US', state_iso_code => 'NY' });
my $state_oregon = $schema->resultset("State")->find( { country_iso_code => 'US', state_iso_code => 'OR' });

# taxes
my $taxes = $schema->resultset("Tax")->create (
    {
        tax_name => 'nys_sales_tax',
        description => 'New York Sales Tax',
        percent => '8.0',
        valid_from => $now,
        country_iso_code => 'US',
        states_id => $state->id,
    }
);

# roles
my $roles = $schema->resultset("Role")->populate([
    { roles_id => '3', name => 'editor', label => 'Editor', description => 'Editor Role' },
    { roles_id => '4', name => 'pro', label => 'Industry Pro', description => 'Pro Role' },
    { roles_id => '5', name => 'staff', label => 'Shop Staff',description => 'Staff Role'  },
  ]);

my %users;

# Create user john
$users{john} = shop_user->create(
    { username => 'john@westbranchresort.com', password => 'Testing123', first_name => 'John',
      last_name => 'Miller', email => 'john@westbranchresort.com',
      created => $now,
      user_roles => [
          { roles_id => '4' },
      ],
  });

shop_address->create({
    users_id => $users{john}->id,
    first_name => $users{john}->first_name,
    last_name => $users{john}->last_name,
    type => 'shipping',
    address => '1212 Test Shipping Road',
    postal_code => '13783',
    city => 'Hancock',
    states_id => $state->id,
    country_iso_code => 'US',
});

shop_address->create({
    users_id => $users{john}->id,
    first_name => $users{john}->first_name,
    last_name => $users{john}->last_name,
    type => 'billing',
    address => '1254 Test Billing Road',
    postal_code => '13783',
    city => 'Hancock',
    states_id => $state->id,
    country_iso_code => 'US',
});

# Create user ben
$users{ben} = shop_user->create(
    { username => 'ben@westbranchresort.com', password => 'Testing123', first_name => 'Ben',
      last_name => 'Sheard', email => 'ben@westbranchresort.com',
      created => $now,
      user_roles => [
          { roles_id => '5' },
      ],
  });

# Create user greg
$users{greg} = shop_user->create(
    { username => 'gregory@westbranchresort.com', password => 'Testing123', nickname => 'pike lover',
      first_name => 'Gregor', last_name => 'Fisherman',
      email => 'gregory@westbranchresort.com', created => $now,
      user_roles => [
        { roles_id => '3' },
      ],
  });

shop_address->create({
    users_id => $users{greg}->id,
    first_name => $users{greg}->first_name,
    last_name => $users{greg}->last_name,
    type => 'shipping',
    address => 'Crescent Ave',
    postal_code => '97403',
    city => 'Eugene',
    states_id => $state_oregon->id,
    country_iso_code => 'US',
});

# Create user sam
$users{sam} = shop_user->create(
    { username => 'sbatschelet@mac.com', password => 'Testing123', nickname => 'trout lover',
      first_name => 'Sam', last_name => 'Batschelet',
      email => 'sbatschelet@mac.com', created => $now,
      user_roles => [
        { roles_id => '1' },
        { roles_id => '5' },
      ],
  });

shop_address->create({
    users_id => $users{sam}->id,
    first_name => $users{sam}->first_name,
    last_name => $users{sam}->last_name,
    type => 'billing',
    address => '416 Twist Run Rd',
    postal_code => '13760',
    city => 'Endwell',
    states_id => $state->id,
    country_iso_code => 'US',
});

# Create user admin
$users{admin} = shop_user->create(
    { username => 'admin', password => 'Westbranch1', nickname => 'God',
      first_name => '', last_name => '',
      email => 'sbatschelet@mac.com', created => $now,
      user_roles => [
        { roles_id => '1' },
      ],
  });


my $nav = $schema->resultset('Navigation')->populate([
# category roots - no parent_id
#my @nav = ([
{ navigation_id => '10', priority => '10', uri => 'fly-fishing-gear', type => 'menu', scope => 'root', description => 'Gear for fly fishing', name => 'Fly Fishing Gear' },
{ navigation_id => '20', priority => '20', uri => 'fly-fishing-gear/species', type => 'menu', scope => 'root', name => 'Species' , description => 'Fly Fishing Gear By Species'},
{ navigation_id => '30', priority => '30', uri => 'clothing', type => 'menu', scope => 'root', description => 'Clothing for fly fishing', name => 'Fly Fishing Clothing',  },
{ navigation_id => '31', priority => '31', uri => 'clothing/brand', type => 'menu', scope => 'root', description => 'Clothing By Brand', name => 'Fly Fishing Clothing By Brand',  },
{ navigation_id => '40', priority => '40', uri => 'fly-tying', type => 'menu', scope => 'root', description => 'Materials for fly tying', name => 'Fly Tying Materials and Supplies'},
{ navigation_id => '50', priority => '50', uri => 'flies', type => 'menu', scope => 'root', description => 'Flies for fishing', name => 'Fly Fishing Flies'},
{ navigation_id => '60', priority => '60', uri => 'gifts', type => 'menu', scope => 'root', description => 'Gifts for fishing', name => 'Fly Fishing Gifts'},
{ navigation_id => '70', priority => '70', uri => 'sale', type => 'menu', scope => 'root', description => 'Fly Fishing Gear on Sale!', name => 'Fly Fishing Gear on Sale!'},

# sub cats neg priority to hide from menus
{ navigation_id => '90', priority => '-1', uri => 'clothing/mens', type => 'menu', scope => 'header', description => 'Clothing for fly fishing', name => "Men's Clothing", parent_id =>'30' },

# gear
{ navigation_id => '100', priority => '200', uri => 'fly-fishing-gear/fly-rods', type => 'menu', scope => 'gear', description => 'Fly Rods', name => 'Fly Rods', parent_id =>'10' },
{ navigation_id => '101', priority => '300', uri => 'fly-fishing-gear/fly-reels', type => 'menu', scope => 'gear', description => 'Fly Reels', name => 'Fly Reels', parent_id =>'10' },
{ navigation_id => '102', priority => '400', uri => 'fly-fishing-gear/fly-line', type => 'menu', scope => 'gear', description => 'Fly Line & Backing', name => 'Fly Line & Backing', parent_id =>'10' },
{ navigation_id => '103', priority => '500', uri => 'fly-fishing-gear/waders', type => 'menu', scope => 'gear', description => 'Waders', name => 'Waders', parent_id =>'10' },
{ navigation_id => '104', priority => '600', uri => 'fly-fishing-gear/wading-boots', type => 'menu', scope => 'gear', description => 'Wading Boots', name => 'Wading Boots', parent_id =>'10' },
{ navigation_id => '105', priority => '610', uri => 'fly-fishing-gear/sunglasses', type => 'menu', scope => 'gear', description => 'Sunglasses', name => 'Sunglasses', parent_id =>'10' },
{ navigation_id => '106', priority => '900', uri => 'fly-fishing-gear/fly-boxes', type => 'menu', scope => 'gear', description => 'Fly Boxes', name => 'Fly Boxes', parent_id =>'10' },
{ navigation_id => '107', priority => '1000', uri => 'fly-fishing-gear/packs-vests', type => 'menu', scope => 'gear', description => 'Packs & Vests', name => 'Packs & Vests', parent_id =>'10' },
{ navigation_id => '108', priority => '1200', uri => 'fly-fishing-gear/leader-tippet', type => 'menu', scope => 'gear', description => 'Leader & Tippet', name => 'Leader & Tippet', parent_id =>'10' },
{ navigation_id => '109', priority => '1300', uri => 'fly-fishing-gear/tools-gadgets', type => 'menu', scope => 'gear', description => 'Tools & Gadgets', name => 'Tools & Gadgets', parent_id =>'10' },
{ navigation_id => '110', priority => '700', uri => 'fly-fishing-gear/bags-luggage', type => 'menu', scope => 'gear',  description => 'Bags & Luggage', name => 'Bags & Luggage', parent_id =>'10' },
{ navigation_id => '111', priority => '1500', uri => 'fly-fishing-gear/nets', type => 'menu', scope => 'gear',  description => 'Landing Nets', name => 'Landing Nets', parent_id =>'10' },
{ navigation_id => '112', priority => '800', uri => 'fly-fishing-gear/watercraft-boats', type => 'menu', scope => 'gear', description => 'Watercraft & Boats', name => 'Watercraft & Boats', parent_id =>'10' },
{ navigation_id => '113', priority => '1400', uri => 'fly-fishing-gear/books-dvds', type => 'menu', scope => 'gear',  description => 'Books & DVDs', name => 'Books & DVDs', parent_id =>'10' },
{ navigation_id => '114', priority => '1100', uri => 'fly-fishing-gear/fly-rod-combos', type => 'menu', scope => 'gear', description => 'Fly Rod Combos', name => 'Fly Rod Combos', parent_id =>'10' },
{ navigation_id => '115', priority => '100', uri => 'fly-fishing-gear/new', type => 'menu', scope => 'gear', name => 'New Products!' , description => 'New Fly Fishing Gear!', parent_id =>'10'},

# clothing
{ navigation_id => '200', priority => '200', uri => 'clothing/mens/jackets', type => 'menu', scope => 'clothing', name => 'Jackets', description => 'Mens Jackets and Outerwear for Fly Fishing', parent_id =>'30' },
{ navigation_id => '201', priority => '300', uri => 'clothing/mens/fleece', type => 'menu', scope => 'clothing', name => 'Fleece', description => 'Mens Fleece Layering for Fly Fishing', parent_id =>'30' },
{ navigation_id => '202', priority => '400', uri => 'clothing/mens/layering', type => 'menu', scope => 'clothing', name => 'Layering', description => 'Mens Base Layerting for Fly Fishing', parent_id =>'30' },
{ navigation_id => '203', priority => '500', uri => 'clothing/mens/shirts', type => 'menu', scope => 'clothing', name => 'Shirts', description => 'Mens Shirts for Fly Fishing', parent_id =>'30' },
{ navigation_id => '204', priority => '600', uri => 'clothing/mens/t-shirts', type => 'menu', scope => 'clothing', name => 'T-Shirts', description => 'Mens Fly Fishing T-Shirts', parent_id =>'30' },
{ navigation_id => '205', priority => '700', uri => 'clothing/mens/pants', type => 'menu', scope => 'clothing', name => 'Pants', description => 'Mens Fly Fishing Pants', parent_id =>'30' },
{ navigation_id => '206', priority => '800', uri => 'clothing/mens/underwear', type => 'menu', scope => 'clothing', name => 'Underwear', description => 'Mens Fly Fishing Underwear', parent_id =>'30' },
{ navigation_id => '207', priority => '900', uri => 'clothing/mens/hats', type => 'menu', scope => 'clothing', name => 'Hats', description => 'Mens Fly Fishing Hats', parent_id =>'30' },
{ navigation_id => '208', priority => '1000', uri => 'clothing/mens/wba-logo', type => 'menu', scope => 'clothing', name => 'WBA Logo Gear', description => 'WBA Logo Gear', parent_id =>'30' },
{ navigation_id => '209', priority => '1100', uri => 'clothing/mens/shorts', type => 'menu', scope => 'clothing', name => 'Shorts', description => 'Mens Fly Fishing Shorts', parent_id =>'30' },
{ navigation_id => '210', priority => '1200', uri => 'clothing/mens/socks', type => 'menu', scope => 'clothing', name => 'Socks', description => 'Mens Fly Fishing Socks', parent_id =>'30' },

# clothing by brand
{ navigation_id => '300', priority => '100', uri => 'clothing/patagonia', type => 'menu', scope => 'clothing-brand', name => 'Patagonia', description => 'Patagonia Clothing', parent_id =>'31' },
{ navigation_id => '301', priority => '200', uri => 'clothing/simms', type => 'menu', scope => 'clothing-brand', name => 'Simms', description => 'Simms Clothing', parent_id =>'31' },
{ navigation_id => '302', priority => '300', uri => 'clothing/orvis', type => 'menu', scope => 'clothing-brand', name => 'Orvis', description => 'Orvis Clothing', parent_id =>'31' },
{ navigation_id => '303', priority => '400', uri => 'clothing/wba', type => 'menu', scope => 'clothing-brand', name => 'West Branch Angler', description => 'WBA Clothing', parent_id =>'31' },

# tying
{ navigation_id => '400', priority => '100', uri => 'fly-tying/tools', type => 'menu', scope => 'tying', name => 'Fly Tying Tools', description => 'Fly Tying Tools', parent_id =>'40' },
{ navigation_id => '401', priority => '200', uri => 'fly-tying/dubbing', type => 'menu', scope => 'tying', name => 'Fly Tying Dubbing', description => 'Fly Tying Dubbing', parent_id =>'40' },
{ navigation_id => '402', priority => '300', uri => 'fly-tying/hooks', type => 'menu', scope => 'tying', name => 'Fly Tying Hooks', description => 'Fly Tying Hooks', parent_id =>'40' },

# flies
{ navigation_id => '500', priority => '200', uri => 'flies/dry-flies', type => 'menu', scope => 'flies', name => 'Dry Flies', description => 'Dry Flies', parent_id =>'50' },
{ navigation_id => '501', priority => '300', uri => 'flies/nymphs', type => 'menu', scope => 'flies', name => 'Nymphs', description => 'Nymphs', parent_id =>'50' },
{ navigation_id => '502', priority => '400', uri => 'flies/streamers', type => 'menu', scope => 'flies', name => 'Streamers', description => 'Streamers', parent_id =>'50' },

# species
{ navigation_id => '600', priority => '100', uri => 'fly-fishing-gear/trout', type => 'menu', scope => 'species', name => 'Trout' , description => 'Fly Fishing Gear for Trout', parent_id =>'20'},
{ navigation_id => '601',priority => '200', uri => 'fly-fishing-gear/steelhead', type => 'menu', scope => 'species', name => 'Steelhead' , description => 'Fly Fishing Gear for Steelhead', parent_id =>'20'},
{ navigation_id => '602', priority => '300', uri => 'fly-fishing-gear/salmon', type => 'menu', scope => 'species', name => 'Salmon' , description => 'Fly Fishing Gear for Salmon', parent_id =>'20'},
{ navigation_id => '603', priority => '400', uri => 'fly-fishing-gear/bonefish-permit', type => 'menu', scope => 'species', name => 'Bonefish - Permit' , description => 'Fly Fishing Gear for Bonefish and Permit', parent_id =>'20'},
{ navigation_id => '604', priority => '500', uri => 'fly-fishing-gear/tarpon', type => 'menu', scope => 'species', name => 'Tarpon' , description => 'Fly Fishing Gear for Tarpon', parent_id =>'20'},
{ navigation_id => '605', priority => '600', uri => 'fly-fishing-gear/striped-bass', type => 'menu', scope => 'species', name => 'Stripers' , description => 'Fly Fishing Gear for Striped Bass', parent_id =>'20'},

# manufactures
{ uri => 'simms', scope => 'manf', type => 'manufacturer', name => 'Simms Fishing Products', description => 'Simms', priority => '1' },
{ uri => 'patagonia', scope => 'manf', type => 'manufacturer', name => 'Patagonia', description => 'Patagonia', priority => '2'},
{ uri => 'orvis', scope => 'manf', type => 'manufacturer', name => 'The Orvis Company', description => 'Orvis', priority => '3' },
{ uri => 'sage', scope => 'manf', type => 'manufacturer', name => 'Sage',  description => 'Sage', priority => '4' },
{ uri => 'scott', scope => 'manf', type => 'manufacturer', name => 'Scott', description => 'Scott', priority => '5' },
{ uri => 'loomis', scope => 'manf', type => 'manufacturer', name => 'Loomis', description => 'Loomis', priority => '6' },
{ uri => 'hatch', scope => 'manf', type => 'manufacturer', name => 'Hatch Outdoors',  description => 'Hatch Outdoors', priority => '7' },
#nav
{ uri => 'contact', type => 'menu', scope => 'nav-top', description => 'Contact', name => 'Contact', priority => '1' },
{ uri => 'about-us', type => 'menu', scope => 'nav-top', description => 'About Us', name => 'About Us', priority => '1' },
{ uri => 'shipping', type => 'menu', scope => 'nav-top', description => 'Shipping', name => 'Shipping', priority => '1' },
{ uri => 'login', type => 'nav', scope => 'top-login', description => 'Login', name => 'Login', priority => '1' },
{ uri => 'registration', type => 'nav', scope => 'top-login', description => 'Sign Up', name => 'Sign Up', priority => '1' },
{ priority => '1300', uri => 'logout', type => 'nav', scope => 'top-logout', name => 'Logout', description => 'Logout' },
{ priority => '1400', uri => 'user/account', type => 'nav', scope => 'top-logout', name => 'My Account', description => 'My Account' },
]);

# populate navigation_products array

my @navigation_products = (
['WBA0003', '5', 'item'],
);

$schema->resultset('Attribute')->create(
    {
        name             => 'rweight',
        title            => 'Choose Weight',
        type             => 'variant',
        priority         => 1,
        attribute_values => [
            { value => '00',  title => '00WT' },
            { value => '0',  title => '0WT' },
            { value => '1',  title => '1WT' },
            { value => '2',  title => '2WT' },
            { value => '3',  title => '3WT' },
            { value => '4', title => '4WT' },
            { value => '5', title => '5WT' },
            { value => '6', title => '6WT' },
            { value => '7', title => '7WT' },
            { value => '9', title => '9WT' },
            { value => '10', title => '10WT' },
        ]
    }
);

$schema->resultset('Attribute')->create(
    {
        name             => 'length',
        title            => 'Choose Length',
        type             => 'variant',
        priority         => 1,
        attribute_values => [
            { value => '6',  title => '6FT' },
            { value => '7',  title => '7FT' },
            { value => '7_6', title => '7FT 6IN' },
            { value => '7_9', title => '7FT 9IN' },
            { value => '8_4', title => '8FT 4IN' },
            { value => '8_6', title => '8FT 6IN' },
            { value => '9', title => '9FT' },
            { value => '10', title => '10FT' },
        ]
    }
);

$schema->resultset('Attribute')->create(
    {
        name             => 'action',
        title            => 'Choose Action',
        type             => 'variant',
        priority         => 1,
        attribute_values => [
            { value => 'tip',  title => 'Tip Flex' },
            { value => 'mid',  title => 'Mid Flex' },
        ]
    }
);

$schema->resultset('Attribute')->create(
    {
        name             => 'pounds',
        title            => 'Choose Pound Stength',
        type             => 'variant',
        priority         => 1,
        attribute_values => [
            { value => '12',  title => '12 lb' },
            { value => '20',  title => '20 lb' },
            { value => '30',  title => '30 lb' },
        ]
    }
);

$schema->resultset('Attribute')->create(
    {
        name             => 'size',
        title            => 'Choose Size',
        type             => 'variant',
        priority         => 1,
        attribute_values => [
            { value => '5',  title => 'Mens 5' },
            { value => '6',  title => 'Mens 6' },
            { value => '7',  title => 'Mens 7' },
            { value => '8',  title => 'Mens 8' },
            { value => '9',  title => 'Mens 9' },
            { value => '10',  title => 'Mens 10' },
            { value => '11',  title => 'Mens 11' },
            { value => '12',  title => 'Mens 12' },
            { value => '13',  title => 'Mens 13' },
            { value => '14',  title => 'Mens 14' },
        ]
    }
);

$product{WBA0003} = $schema->resultset('Product')->create(
    {
        sku => 'WBA0003',
        manufacturer_sku => '',
        name => 'Orvis Helios 2 Fly Rod',
        short_description => 'When a customer asks is the Helios 2 really better than the Helios 1.  The answer is simple just cast it.',
        description => "Helios 2 fly rods are the best fly rods we have ever produced, period. Not only are these fly rods lightweight, sensitive and extremely powerful, they have an incredible look! Made in Manchester, Vermont, Helios 2 rods are the ultimate freshwater fly rods for all anglers. The fine-tuned tapers deliver spot-on accuracy and smooth tracking. Newly designed to be lighter in hand without compromising strength and power, the Helios 2 fly rods are making fly casting easier in all conditions. Available in three or four-piece sections, the Helios 2 fly rods come in all line weights for all fly-fishing applications. A custom-finished reel seat completes the sleek look of these freshwater fly rods, allowing the rod to stand out in a crowd. Pick up the Helios 2 and make a cast and you will realize instantly why these are the best fly rods made.",
        price => '795',
        uri => 'orvis-helios-2-fly-rod',
        weight => '5',
        inventory_exempt => '1',
    }
);

$product{WBA1001} = $schema->resultset('Product')->create(
    {
        sku => 'WBA1001',
        name => 'Orvis Hydros 3D WF Trout',
        manufacturer_sku => '',
        short_description => 'The finest textured fly line for trout you can put on a reel. Fully engineered with features to improve your cast and presentation for greater productivity on the stream.',
        description => "Enjoy the feel of minimal friction in your casting stroke. 3D texturing combined with IS, our most versatile trout taper, the new Hy-Flote Tip, and the new and improved welded loop, combine to offer the finest trout line we've ever offered.",
        price => '95',
        uri => 'orvis-hydros-3d-wf-trout',
        weight => '2',
        inventory_exempt => '1',
     }
);

$product{WBA2001} = $schema->resultset('Product')->create(
    {
        sku => 'WBA2001',
        manufacturer_sku => '',
        name => 'Orvis Fly Line Backing',
        short_description => "Quality backing can be the differnce between landing and losing the fish of a lifetime.",
        description => "Orvis uses the finest braid to make sure you are protected from abrasion.",
        price => '7.95',
        uri => 'orvis-backing',
        weight => '1',
        inventory_exempt => '1',
    }
);

$product{WBA8001} = $schema->resultset('Product')->create(
    {
        sku => 'WBA8001',
        manufacturer_sku => '',
        name => 'Patagonia Foot Tractor',
        short_description => "The Foot Tractor Wading Boot elevates our award winning, patent-pending aluminum bar technology to new levels of performance.",
        description => "<p>
Here’s the problem: Steel studs, cleats or screw heads are too hard—they skate down rock surfaces like fingernails on a blackboard. Felt wears out quickly, slides on mud and algae and can carry invasive species. Here’s the solution: Our new Foot Tractor Wading Boots with next-generation aluminum bar technology. The new, more aggressively shaped aluminum bars are just hard enough to cut through algae and slime, yet soft enough to conform to rock surfaces. They also grip well on muddy trails, won’t accumulate snow and don’t hold moisture. In other words, they offer the wading traction we’ve been looking for all our lives. Made with fast-drying synthetic leather and Venergy monofilament mesh panels, Foot Tractors offer industrial-strength support and protection in a light, comfortable boot.</p>
<p>
<h3>Features</h3>
<ul>
<li>Clarino® synthetic leather upper for the finest in lightweight and durability, even after extended flexing in wet environments</li>
<li>Venergy monofilament mesh paneling for quick drainage and weight reduction</li>
<li>Oversized toe box and heel cup feature Texon trilaminate to help protect heel and toe from rock impact and foot compression</li>
<li>Sticky rubber lugged sole with inset multi-directional gripping aluminum bar design</li>
<li>Clarino® synthetic leather upper with Venergy monofilament mesh panels. Texon trilaminate toe box and heel counter. Multidirectional gripping designed aluminum bars</li>
<li>1899 g (67 oz)</li><li>Made in China.</li>
</ul></p>", 
        price => '279',
        uri => 'patagonia-foot-tractor-wading-boots',
        weight => '5',
        inventory_exempt => '1',
    }
);

$schema->resultset('Product')->find( { sku => "WBA8001" } )->add_variants(
    {
        size => '5',
        manufacturer_sku => 'PA8002',
        sku    => 'WBA8002',
        uri    => 'patagonia-foot-tractor-wading-boots-size-5',
        price  => 279,
        weight => '5',
    },
    {
        size => '6',
        manufacturer_sku => 'PA8003',
        sku    => 'WBA8003',
        uri    => 'patagonia-foot-tractor-wading-boots-size-6',
        price  => 279,
        weight => '5',
    },
    {
        size => '7',
        manufacturer_sku => 'PA8004',
        sku    => 'WBA8004',
        uri    => 'patagonia-foot-tractor-wading-boots-size-7',
        price  => 279,
        weight => '5',
    },
    {
        size => '8',
        manufacturer_sku => 'PA8005',
        sku    => 'WBA8005',
        uri    => 'patagonia-foot-tractor-wading-boots-size-8',
        price  => 279,
        weight => '5',
    },
    {
        size => '9',
        manufacturer_sku => 'PA8006',
        sku    => 'WBA8006',
        uri    => 'patagonia-foot-tractor-wading-boots-size-9',
        price  => 279,
        weight => '5',
    },
    {
        size => '10',
        manufacturer_sku => 'PA8007',
        sku    => 'WBA8007',
        uri    => 'patagonia-foot-tractor-wading-boots-size-10',
        price  => 279,
        weight => '5',
    },
    {
        size => '11',
        manufacturer_sku => 'PA8008',
        sku    => 'WBA8008',
        uri    => 'patagonia-foot-tractor-wading-boots-size-11',
        price  => 279,
        weight => '5',
    },
    {
        size => '12',
        manufacturer_sku => 'PA8009',
        sku    => 'WBA8009',
        uri    => 'patagonia-foot-tractor-wading-boots-size-12',
        price  => 279,
        weight => '5',
    },
    {
        size => '13',
        manufacturer_sku => 'PA8010',
        sku    => 'WBA8010',
        uri    => 'patagonia-foot-tractor-wading-boots-size-13',
        price  => 279,
        weight => '5',
    },
    {
        size => '14',
        manufacturer_sku => 'PA8011',
        sku    => 'WBA8011',
        uri    => 'patagonia-foot-tractor-wading-boots-size-14',
        price  => 279,
        weight => '5',
    },
);

$schema->resultset('Product')->find( { sku => "WBA1001" } )->add_variants(
    {
        rweight => '3',
        manufacturer_sku => 'OR1002',
        sku    => 'WBA1002',
        uri    => 'orvis-hydros-3d-wf-trout-wf-3',
        price  => 95,
        weight => '5',
    },
    {
        rweight => '4',
        manufacturer_sku => 'OR1003',
        sku    => 'WBA1003',
        uri    => 'orvis-hydros-3d-wf-trout-wf-4',
        price  => 95,
        weight => '5',
    },
    {
        rweight => '5',
        manufacturer_sku => 'OR1003',
        sku    => 'WBA1004',
        uri    => 'orvis-hydros-3d-wf-trout-wf-5',
        price  => 95,
        weight => '5',
    },
    {
        rweight => '6',
        manufacturer_sku => 'OR1003',
        sku    => 'WBA1005',
        uri    => 'orvis-hydros-3d-wf-trout-wf-6',
        price  => 95,
        weight => '5',
    },
);

$schema->resultset('Product')->find( { sku => "WBA2001" } )->add_variants(
    {
        pounds => '12',
        sku    => 'WBA2002',
        manufacturer_sku => 'OR2002',
        uri    => 'orvis-backing-12lb',
        price  => '7.95',
        weight => '1',
    },
    {
        pounds => '20',
        sku    => 'WBA2003',
        manufacturer_sku => 'OR2003',
        uri    => 'orvis-backing-20lb',
        price  => 7.95,
        weight => '1',
    },
    {
        pounds => '30',
        manufacturer_sku => 'OR2004',
        sku    => 'WBA2004',
        uri    => 'orvis-backing-30lb',
        price  => '7.95',
        weight => '1',
    },
);

$schema->resultset('Product')->find( { sku => "WBA0003" } )->add_variants(
    {
        rweight => '2',
        length => '6',
        action => 'mid',
        manufacturer_sku => 'OR0001',
        sku    => 'WBA0001',
        name   => 'Orvis Helios 2 6ft 2wt 3pc Mid Flex',
        uri    => 'orvis-helios-2-620-3-mid-flex',
        price  => 795,
        weight => '5',
    },
    {
        rweight => '2',
        length => '8_4',
        action => 'mid',
        manufacturer_sku => 'OR0002',
        sku    => 'WBA0002',
        name   => 'Orvis Helios 2 8ft 4in 2wt 4pc Mid Flex',
        uri    => 'orvis-helios-2-842-4-mid-flex',
        price  => 795,
        weight => '5',
    },
    {
        rweight => '3',
        length => '7_6',
        action => 'mid',
        name   => 'Orvis Helios 2 7ft 6in 3wt 4pc Mid Flex',
        manufacturer_sku => 'OR0004',
        sku    => 'WBA0004',
        uri    => 'orvis-helios-2-376-4-mid-flex',
        price  => 795,
        weight => '5',
    },
    {
        rweight => '3',
        length => '8_4',
        action => 'mid',
        name   => 'Orvis Helios 2 8ft 4in 3wt 4pc Tip Flex', 
        manufacturer_sku => 'OR0005',
        sku    => 'WBA0005',
        uri    => 'orvis-helios-2-384-4-mid-flex',
        price  => 795,
        weight => '5',
    },
    {
        rweight => '3',
        length => '10',
        action => 'tip',
        name   => 'Orvis Helios 2 10ft 3wt 4pc Tip Flex',
        manufacturer_sku => 'OR0006',
        sku    => 'WBA0006',
        uri    => 'orvis-helios-2-3100-4-tip-flex',
        price  => 795,
        weight => '5',
    },
    {
        rweight => '4',
        length => '7',
        action => 'mid',
        name   => 'Orvis Helios 2 7ft 4wt 4pc Mid Flex',
        manufacturer_sku => 'OR0007',
        sku    => 'WBA0007',
        uri    => 'orvis-helios-2-470-4-mid-flex',
        price  => 795,
        weight => '5',
    },
    {
        rweight => '4',
        length => '8_6',
        action => 'mid',
        name   => 'Orvis Helios 2 8ft 6in 4wt 4pc Mid Flex',
        manufacturer_sku => 'OR0008',
        sku    => 'WBA0008',
        uri    => 'orvis-helios-2-486-4-mid-flex',
        price  => 795,
        weight => '5',
    },
    {
        rweight => '4',
        length => '9',
        action => 'mid',
        name   => 'Orvis Helios 2 9ft 4wt 4pc Mid Flex',
        manufacturer_sku => 'OR0009',
        sku    => 'WBA0009',
        uri    => 'orvis-helios-2-490-4-mid-flex',
        price  => 795,
        weight => '5',
    },
    {
        rweight => '4',
        length => '9',
        action => 'tip',
        name   => 'Orvis Helios 2 9ft 4wt 4pc Tip Flex',
        manufacturer_sku => 'OR0010',
        sku    => 'WBA0010',
        uri    => 'orvis-helios-2-490-4-tip-flex',
        price  => 795,
        weight => '5',
    },
    {
        rweight => '4',
        length => '10',
        action => 'tip',
        name   => 'Orvis Helios 2 10ft 4wt 4pc Tip Flex',
        manufacturer_sku => 'OR0011',
        sku    => 'WBA0011',
        uri    => 'orvis-helios-2-4100-4-mid-flex',
        price  => 795,
        weight => '5',
    },
    {
        rweight => '5',
        length => '7_9',
        action => 'mid',
        name   => 'Orvis Helios 2 7ft 9in 5wt 4pc Mid Flex',
        manufacturer_sku => 'OR0012',
        sku    => 'WBA0012',
        uri    => 'orvis-helios-2-579-4-mid-flex',
        price  => 795,
        weight => '5',
    },
    {
        rweight => '5',
        length => '8_6',
        action => 'mid',
        name   => 'Orvis Helios 2 8ft 6in 5wt 4pc Mid Flex',
        manufacturer_sku => 'OR0013',
        sku    => 'WBA0013',
        uri    => 'orvis-helios-2-586-4-mid-flex',
        price  => 795,
        weight => '5',
    },
    {
        rweight => '5',
        length => '8_6',
        action => 'tip',
        name   => 'Orvis Helios 2 8ft 6in 5wt 4pc Tip Flex',
        manufacturer_sku => 'OR0014',
        sku    => 'WBA0014',
        uri    => 'orvis-helios-2-586-4-tip-flex',
        price  => 795,
        weight => '5',
    },
    {
        rweight => '5',
        length => '9',
        action => 'mid',
        name   => 'Orvis Helios 2 9ft 5wt 4pc Mid Flex',
        manufacturer_sku => 'OR0015',
        sku    => 'WBA0015',
        uri    => 'orvis-helios-2-590-4-mid-flex',
        price  => 795,
        weight => '5',
    },
    {
        rweight => '5',
        length => '9',
        action => 'tip',
        name   => 'Orvis Helios 2 9ft 5wt 4pc Tip Flex',
        manufacturer_sku => 'OR0016',
        sku    => 'WBA0016',
        uri    => 'orvis-helios-2-590-4-tip-flex',
        price  => 795,
        weight => '5',
    },
    {
        rweight => '5',
        length => '10',
        action => 'tip',
        name   => 'Orvis Helios 2 10ft 5wt 4pc Mid Flex',
        manufacturer_sku => 'OR0017',
        sku    => 'WBA0017',
        uri    => 'orvis-helios-2-5100-4-mid-flex',
        price  => 795,
        weight => '5',
    },
    {
        rweight => '6',
        length => '9',
        action => 'mid',
        manufacturer_sku => 'OR0018',
        sku    => 'WBA0018',
        uri    => 'orvis-helios-2-690-4-mid-flex',
        price  => 795,
        weight => '5',
    },
    {
        rweight => '6',
        length => '9',
        action => 'tip',
        name   => 'Orvis Helios 2 9ft 6wt 4pc Tip Flex',
        manufacturer_sku => 'OR0019',
        sku    => 'WBA0019',
        uri    => 'orvis-helios-2-690-4-tip-flex',
        price  => 795,
        weight => '5',
    },
);

my $merch = $schema->resultset('MerchandisingProduct')->populate([
                                           { 
                                             sku => 'WBA0003', 
                                             sku_related => 'WBA1001',
                                             type => 'related' 
                                           },
                                           {
                                             sku => 'WBA0003',
                                             sku_related => 'WBA2001',
                                             type => 'related'
                                           },
                                          ]);

my $types = $schema->resultset('MediaType')->populate([
                                           { type => 'image' },
                                           { type => 'video' },
                                           { type => 'js' },
                                           { type => 'css' },
                                          ]);


my $images = $schema->resultset('MediaType')->find({ type => 'image' });
my $video = $schema->resultset('MediaType')->find({ type => 'video' });
my $css = $schema->resultset('MediaType')->find({ type => 'css' });
my $js = $schema->resultset('MediaType')->find({ type => 'js' });

# for now, call the type with the size

my @displays = (
    {
        name => 'cart_mini',
        size => '35x35',
        type => 'product_35x35'
    },
    {
        name => 'cart',
        size => '75x75',
        type => 'product_75x75'
    },
    {
        name => 'grid_list',
        size => '200x200',
        type => 'product_200x200',
    },
    {
        name => 'related',
        size => '110x110',
        type => 'product_110x110',
    },
    {
        name => 'flypage_glory',
        size => '325x325',
        type => 'product_325x325',
    },
    {
        name => 'flypage_zoom',
        size => '975x975',
        type => 'product_975x975',
    },
    {
        name => 'flypage_alt',
        size => '100x100',
        type => 'product_100x100',
    },
);


foreach my $record (@displays) {
    $images->add_to_media_displays({
                                    type => $record->{type},
                                    name => $record->{name},
                                    path => "/products/images/$record->{size}",
                                    size => $record->{size},});
}

# set default for example product
my $media = $schema->resultset('Media')->populate([
                            {
                                file => 'public/products/images/orvis_helios_2.jpg',
                                uri => 'orvis_helios_2.jpg',
                                mime_type => 'image/jpg',
                                media_types_id => $images->id,
                            },
                            {
                                file => 'public/images/products/optimized_jpgs/default.jpg',
                                uri => 'default.jpg',
                                mime_type => 'image/jpg',
                                media_types_id => $images->id,
                            },
                            {
                                file => 'public/products/images/patagonia_foot_tractor.jpg',
                                uri => 'patagonia_foot_tractor.jpg',
                                mime_type => 'image/jpg',
                                media_types_id => $images->id,
                            },
                            {
                                file => 'http://www.youtube.com/embed/P-UKSJnWWQE',
                                uri => 'http://www.youtube.com/embed/P-UKSJnWWQE',
                                media_types_id => $video->id,
                            },
                            {   file => 'http://www.youtube.com/embed/HfhpZPdrc2A',
                                uri => 'http://www.youtube.com/embed/HfhpZPdrc2A',
                                media_types_id => $video->id,
                            },
]);
# add all slider image assets
$media = $schema->resultset('Media')->populate([
                            {
                                file => 'public/images/camera/slides/slide1.jpg',
                                uri => 'slide1.jpg',
                                mime_type => 'image/jpg',
                                media_types_id => $images->id,
                                label => 'Delaware river fly fishing guide trip.'
                            },
                            {
                                file => 'public/images/camera/slides/slide2.jpg',
                                uri => 'slide2.jpg',
                                mime_type => 'image/jpg',
                                media_types_id => $images->id,
                                label => 'Delaware river wild brown trout.'
                            },
                            {
                                file => 'public/images/camera/slides/slide3.jpg',
                                uri => 'slide3.jpg',
                                mime_type => 'image/jpg',
                                media_types_id => $images->id,
                                label => 'Summer Sulphur on the Delaware.'
                            },
]);

# add all js/css assets
$media = $schema->resultset('Media')->populate([
                            {
                                file => 'public/css/rateit.css',
                                uri => 'rateit.css',
                                mime_type => 'text/css',
                                media_types_id => $css->id,
                            },
                            {
                                file => 'public/css/css_002.css',
                                uri => 'css_002.css',
                                mime_type => 'text/css',
                                media_types_id => $css->id,
                            },
                            {
                                file => 'public/css/css.css',
                                uri => 'css.css',
                                mime_type => 'text/css',
                                media_types_id => $css->id,
                            },
                            {
                                file => 'public/css/font-awesome.css',
                                uri => 'font-awesome.css',
                                mime_type => 'text/css',
                                media_types_id => $css->id,
                            },
                            {
                                file => 'public/css/jquery.css',
                                uri => 'jquery.css',
                                mime_type => 'text/css',
                                media_types_id => $css->id,
                            },
                            {
                                file => 'public/css/photoswipe.css',
                                uri => 'photoswipe.css',
                                mime_type => 'text/css',
                                media_types_id => $css->id,
                            },
                            {
                                file => 'public/css/bootstrap.css',
                                uri => 'bootstrap.css',
                                mime_type => 'text/css',
                                media_types_id => $css->id,
                            },
                            {
                                file => 'public/css/extra_style.css',
                                uri => 'extra_style.css',
                                mime_type => 'text/css',
                                media_types_id => $css->id,
                            },
                            {
                                file => 'public/css/styles.css',
                                uri => 'styles.css',
                                mime_type => 'text/css',
                                media_types_id => $css->id,
                            },
                            {
                                file => 'public/css/responsive.css',
                                uri => 'responsive.css',
                                mime_type => 'text/css',
                                media_types_id => $css->id,
                            },
                            {
                                file => 'public/css/superfish.css',
                                uri => 'superfish.css',
                                mime_type => 'text/css',
                                media_types_id => $css->id,
                            },
                            {
                                file => 'public/css/camera.css',
                                uri => 'camera.css',
                                mime_type => 'text/css',
                                media_types_id => $css->id,
                            },
                            {
                                file => 'public/js/jquery-1.js',
                                uri => 'jquery-1.js',
                                mime_type => 'text/javascript',
                                media_types_id => $js->id,
                            },
                            {
                                file => 'public/js/jquery-migrate-1.js',
                                uri => 'jquery-migrate-1.js',
                                mime_type => 'text/javascript',
                                media_types_id => $js->id,
                            },
                            {
                                file => 'public/js/jquery.rateit.min.js',
                                uri => 'jquery.rateit.min.js',
                                mime_type => 'text/javascript',
                                media_types_id => $js->id,
                            },
                            {
                                file => 'public/js/superfish.js',
                                uri => 'superfish.js',
                                mime_type => 'text/javascript',
                                media_types_id => $js->id,
                            },
                            {
                                file => 'public/js/scripts.js',
                                uri => 'scripts.js',
                                mime_type => 'text/javascript',
                                media_types_id => $js->id,
                            },
                            {
                                file => 'public/js/bootstrap-hover-dropdown.js',
                                uri => 'bootstrap-hover-dropdown.js',
                                mime_type => 'text/javascript',
                                media_types_id => $js->id,
                            },
                            {
                                file => 'public/js/fitdivs.js',
                                uri => 'fitdivs.js',
                                mime_type => 'text/javascript',
                                media_types_id => $js->id,
                            },
]);

my $helios_image = $schema->resultset('Media')->find({ uri => 'orvis_helios_2.jpg' });
my $tractor = $schema->resultset('Media')->find({ uri => 'patagonia_foot_tractor.jpg' });
my $tractor_video = $schema->resultset('Media')->find({ uri => 'http://www.youtube.com/embed/P-UKSJnWWQE' });
my $helios_video = $schema->resultset('Media')->find({ uri => 'http://www.youtube.com/embed/HfhpZPdrc2A' });
my $orvis = $schema->resultset('Navigation')->find({ uri => 'orvis' });

$schema->resultset('MediaProduct')->populate([
                                           { media_id => $helios_image->id, sku => 'WBA0001' },
                                           { media_id => $helios_image->id, sku => 'WBA0002' },
                                           { media_id => $helios_image->id, sku => 'WBA0003' },
                                           { media_id => $helios_image->id, sku => 'WBA0004' },
                                           { media_id => $helios_image->id, sku => 'WBA0005' },
                                           { media_id => $helios_image->id, sku => 'WBA0006' },
                                           { media_id => $helios_image->id, sku => 'WBA0007' },
                                           { media_id => $helios_video->id, sku => 'WBA0001' },
                                           { media_id => $helios_video->id, sku => 'WBA0002' },
                                           { media_id => $helios_video->id, sku => 'WBA0003' },
                                           { media_id => $helios_video->id, sku => 'WBA0004' },
                                           { media_id => $helios_video->id, sku => 'WBA0005' },
                                           { media_id => $helios_video->id, sku => 'WBA0006' },
                                           { media_id => $helios_video->id, sku => 'WBA0007' },
                                          ]);

$schema->resultset('MediaProduct')->populate([
                                           { media_id => $tractor->id, sku => 'WBA8001' },
                                           { media_id => $tractor->id, sku => 'WBA8002' },
                                           { media_id => $tractor->id, sku => 'WBA8003' },
                                           { media_id => $tractor->id, sku => 'WBA8004' },
                                           { media_id => $tractor->id, sku => 'WBA8005' },
                                           { media_id => $tractor->id, sku => 'WBA8006' },
                                           { media_id => $tractor->id, sku => 'WBA8007' },
                                           { media_id => $tractor->id, sku => 'WBA8008' },
                                           { media_id => $tractor->id, sku => 'WBA8009' },
                                           { media_id => $tractor->id, sku => 'WBA8010' },
                                           { media_id => $tractor->id, sku => 'WBA8011' },
                                            #video
                                           { media_id => $tractor_video->id, sku => 'WBA8001' },
                                           { media_id => $tractor_video->id, sku => 'WBA8002' },
                                           { media_id => $tractor_video->id, sku => 'WBA8003' },
                                           { media_id => $tractor_video->id, sku => 'WBA8004' },
                                           { media_id => $tractor_video->id, sku => 'WBA8005' },
                                           { media_id => $tractor_video->id, sku => 'WBA8006' },
                                           { media_id => $tractor_video->id, sku => 'WBA8007' },
                                           { media_id => $tractor_video->id, sku => 'WBA8008' },
                                           { media_id => $tractor_video->id, sku => 'WBA8009' },
                                           { media_id => $tractor_video->id, sku => 'WBA8010' },
                                           { media_id => $tractor_video->id, sku => 'WBA8011' },
                                          ]);

my $rods = shop_navigation->find({ uri => 'fly-fishing-gear/fly-rods' });
my $new_nav = shop_navigation->find({ uri => 'fly-fishing-gear/new' });

$schema->resultset('NavigationProduct')->populate([
                                           { navigation_id => $rods->id, sku => 'WBA0001' },
                                           { navigation_id => $rods->id, sku => 'WBA0002' },
                                           { navigation_id => $rods->id, sku => 'WBA0003' },
                                           { navigation_id => $rods->id, sku => 'WBA0004' },
                                           { navigation_id => $rods->id, sku => 'WBA0005' },
                                           { navigation_id => $rods->id, sku => 'WBA0006' },
                                           { navigation_id => $rods->id, sku => 'WBA0007' },
                                           { navigation_id => $rods->id, sku => 'WBA0008' },
                                           { navigation_id => $rods->id, sku => 'WBA0009' },
                                           { navigation_id => $rods->id, sku => 'WBA0010' },
                                           { navigation_id => $rods->id, sku => 'WBA0011' },
                                           { navigation_id => $rods->id, sku => 'WBA0012' },
                                           { navigation_id => $rods->id, sku => 'WBA0013' },
                                           { navigation_id => $rods->id, sku => 'WBA0014' },
                                            # manf
                                           { navigation_id => $orvis->id, sku => 'WBA0001' },
                                           { navigation_id => $orvis->id, sku => 'WBA0002' },
                                           { navigation_id => $orvis->id, sku => 'WBA0003' },
                                           { navigation_id => $orvis->id, sku => 'WBA0004' },
                                           { navigation_id => $orvis->id, sku => 'WBA0005' },
                                           { navigation_id => $orvis->id, sku => 'WBA0006' },
                                           { navigation_id => $orvis->id, sku => 'WBA0007' },
                                           { navigation_id => $orvis->id, sku => 'WBA0008' },
                                           { navigation_id => $orvis->id, sku => 'WBA0009' },
                                           { navigation_id => $orvis->id, sku => 'WBA0010' },
                                           { navigation_id => $orvis->id, sku => 'WBA0011' },
                                           { navigation_id => $orvis->id, sku => 'WBA0012' },
                                           { navigation_id => $orvis->id, sku => 'WBA0013' },
                                           { navigation_id => $orvis->id, sku => 'WBA0014' },
                                           # new tractors
                                           { navigation_id => $new_nav->id, sku => 'WBA8001' },

]);

$product{WBA0003}->add_to_reviews(
                    {
                    title           => '1',
                    message_types_id   => '3',
                    content         => "The Helios 2 fly rod changed my life I can't say enough good things about it.",
                    author_users_id          =>  $users{john}->id,
                    rating          => '5.0',
                    recommend       => '1',
                    public          => '1',
                    approved        => '1',
                    approved_by_users_id     => $users{sam}->id,
                 },
);

$schema->resultset('Product')->find( { sku => "WBA0017" } )->add_to_reviews(
                                    {
                                        title           => '1',
                                        message_types_id   => '3',
                                        content         => "It's a fine rod but to me it's way over priced.",
                                        author_users_id          =>  $users{ben}->id,
                                        rating          => '3.5',
                                        recommend       => '1',
                                        public          => '1',
                                        approved        => '1',
                                        approved_by_users_id     => $users{sam}->id,
                                    },
);

# populate ShipmentCarriers
my %carrier;
 
$carrier{UPS} = $schema->resultset("ShipmentCarrier")->create(
    {
        name => 'UPS',
        account_number => '1Z999999999999999999',
        shipment_methods=> [
            { 
              name=> '1DM',
              title => 'Next Day Air Early AM',
              max_weight => '150',
            },
            { 
              name => '1DML',
              title => 'Next Day Air Early AM Letter',
              max_weight => '150',
            },
            {
              name => '1DA',
              title => 'Next Day Air',
              max_weight => '150',
            },
            {
              name => '1DAL',
              title => 'Next Day Air Letter',
              max_weight => '150',
            },
            {
              name => '1DP',
              title => 'Next Day Air Saver',
              max_weight => '150',
            },
            {
              name => '1DPL',
              title => 'Next Day Air Saver Letter',
              max_weight => '150',
            },
            {
              name => '2DM',
              title => '2nd Day Air A.M.',
              max_weight => '150',
            },
            {
              name => '2DA',
              title => '2nd Day Air',
              max_weight => '150',
            },
            {
              name => '2DML',
              title => '2nd Day Air A.M. Letter',
              max_weight => '150',
            },
            {
              name => '2DAL',
              title => '2nd Day Air Letter',
              max_weight => '150',
            },
            {
              name => '3DS',
              title => '3 Day Select',
              max_weight => '150',
            },
            {
              name => 'GNDCOM',
              title => 'Ground Commercial',
              max_weight => '150',
            },
            {
              name => 'GNDRES',
              title => 'Ground Residential',
              max_weight => '150',
            },
            {
              name => 'XPR',
              title => 'Worldwide Express',
              max_weight => '150',
            },
            {
              name => 'XDM',
              title => 'Worldwide Express Plus',
              max_weight => '150',
            },
            {
              name => 'XPRL',
              title => 'Worldwide Express Letter',
              max_weight => '150',
            },
            {
              name => 'XDML',
              title => 'Worldwide Express Plus Letter',
              max_weight => '150',
            },
            {
              name => 'XPD',
              title => 'Worldwide Expedited',
              max_weight => '150',
            },
        ],
    });
 
$carrier{USPS} = $schema->resultset("ShipmentCarrier")->create(
    {
        name => 'USPS',
        account_number => '8985943852094',
        shipment_methods => [
        {
            name => 'EXPRESS',
            title => 'USPS Express Mail'
        },
        {
            name => 'FIRST CLASS',
            title => 'USPS First Class Mail.'
        },
        {
            name => 'PRIORITY',
            title => 'PRIORITY'
        },
        {
            name => 'PARCEL',
            title => 'PARCEL'
        },
        {
            name => 'BPM',
            title => 'BPM'
        },
        {
            name => 'LIBRARY',
            title => 'LIBRARY'
        },
        {
             name => 'GLOBAL EXPRESS GUARANTEED',
             title => 'GLOBAL EXPRESS GUARANTEED'
        },
        {
             name => 'GLOBAL EXPRESS GUARANTEED NON-DOCUMENT RECTANGULAR',
             title => 'GLOBAL EXPRESS GUARANTEED NON-DOCUMENT RECTANGULAR'
        },
        {
             name => 'GLOBAL EXPRESS GUARANTEED NON-DOCUMENT NON-RECTANGULAR',
             title => 'GLOBAL EXPRESS GUARANTEED NON-DOCUMENT NON-RECTANGULAR'
        },
        {
            name => 'USPS GXG ENVELOPES',
            title => 'USPS GXG ENVELOPES'
        },
        {
            name => 'EXPRESS MAIL INTERNATIONAL (EMS)',
            title => 'EXPRESS MAIL INTERNATIONAL (EMS)'
        },
        {
            name => 'EXPRESS MAIL INTERNATIONAL (EMS) FLAT-RATE ENVELOPE',
            title => 'EXPRESS MAIL INTERNATIONAL (EMS) FLAT-RATE ENVELOPE'
        },
        {
            name => 'PRIORITY MAIL INTERNATIONAL',
            title => 'PRIORITY MAIL INTERNATIONAL'
        },
        {
            name => 'PRIORITY MAIL INTERNATIONAL FLAT-RATE ENVELOPE',
            title => 'PRIORITY MAIL INTERNATIONAL FLAT-RATE ENVELOPE'
        },
        {
            name => 'PRIORITY MAIL INTERNATIONAL REGULAR FLAT-RATE BOXES',
            title => 'PRIORITY MAIL INTERNATIONAL REGULAR FLAT-RATE BOXES'
        },
        {
            name => 'PRIORITY MAIL INTERNATIONAL LARGE FLAT-RATE BOX',
            title => 'PRIORITY MAIL INTERNATIONAL LARGE FLAT-RATE BOX'
        },
        {
            name => 'PRIORITY MAIL INTERNATIONAL SMALL FLAT-RATE BOX',
            title => 'PRIORITY MAIL INTERNATIONAL SMALL FLAT-RATE BOX'
        },
        {
            name => 'FIRST CLASS MAIL INTERNATIONAL LARGE ENVELOPE',
            title => 'FIRST CLASS MAIL INTERNATIONAL LARGE ENVELOPE'
        },
        {
            name => 'PRIORITY MAIL INTERNATIONAL',
            title => 'PRIORITY MAIL INTERNATIONAL'
        },
        ],
    });
my %destination;
 
$destination{US} = $schema->resultset("ShipmentDestination")->populate([
    {
        zones_id => '247',
        shipment_methods_id =>'1'
    },
    {
        zones_id => '247',
        shipment_methods_id =>'2'
    },
    {
        zones_id => '247',
        shipment_methods_id =>'3'
    },
    {
        zones_id => '247',
        shipment_methods_id =>'4'
    },
    {
        zones_id => '247',
        shipment_methods_id =>'5'
    },
    {
        zones_id => '247',
        shipment_methods_id =>'6'
    },
    {
        zones_id => '247',
        shipment_methods_id =>'7'
    },
    {
        zones_id => '247',
        shipment_methods_id =>'8'
    },
    {
        zones_id => '247',
        shipment_methods_id =>'9'
    },
    {
        zones_id => '247',
        shipment_methods_id =>'10'
    },
    {
        zones_id => '247',
        shipment_methods_id =>'11'
    },
    {
        zones_id => '247',
        shipment_methods_id =>'12'
    },
    {
        zones_id => '247',
        shipment_methods_id =>'13'
    },
]);
 

